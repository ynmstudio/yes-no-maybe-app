<div class="min-h-screen flex flex-col">
  <div
    class="container--default sticky top-0 inset-x-0 flex items-center justify-between z-10 backdrop-blur bg-white bg-opacity-80 border-b border-gray-200"
  >
    <div class="flex items-center space-x-4">
      <button
        (click)="saveAndClose()"
        class="py-3 px-4 rounded-xl leading-none bg-gray-200"
      >
        <span class="sr-only">Back to overview</span>
        <svg
          width="11px"
          height="17px"
          viewBox="0 0 11 17"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
        >
          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g transform="translate(-49.000000, -49.000000)">
              <g transform="translate(31.000000, 37.000000)">
                <polyline
                  stroke="currentColor"
                  stroke-width="2"
                  transform="translate(23.500000, 20.500000) rotate(-180.000000) translate(-23.500000, -20.500000) "
                  points="19.5 13.5 27.5 20.5 19.5 27.5"
                ></polyline>
              </g>
            </g>
          </g>
        </svg>
      </button>

      <div class="text-headline" *ngIf="isNew">Neue Einreichung:</div>
      <div class="text-headline" *ngIf="!isNew">Einreichung bearbeiten:</div>
    </div>
  </div>

  <form class="flex-auto max-w-fullspace-y-5 lg:space-y-7" [formGroup]="form">
    <!-- APPLICATION FORM -->
    <div class="lg:flex xl:container container--default mx-auto">
      <div
        class="flex-auto font-mono text-sm grid grid-cols-1 lg:grid-cols-form items-center gap-x-4 gap-y-2 lg:gap-y-3"
      >
        <label for="name">Name Künstler:in oder Gruppe</label>
        <input
          id="name"
          formControlName="name"
          name="name"
          type="text"
          class="appearance-none rounded-none relative block w-full p-2 border-solid bg-gray-100 border-b border-t-0 border-r-0 border-l-0 border-transparent font-mono placeholder-gray-500 text-black focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10 text-sm"
        />
      </div>
      <div class="flex items-center ml-auto mt-3 lg:mt-0 lg:ml-4">
        <!-- This example requires Tailwind CSS v2.0+ -->
        <!-- On: "bg-gray-600", Off: "bg-gray-200" -->
        <button
          (click)="toggleGroup()"
          type="button"
          aria-pressed="false"
          aria-labelledby="toggleLabel"
          [ngClass]="group?.value ? 'bg-green-500' : 'bg-gray-300'"
          class="relative inline-flex flex-shrink-0 h-6 w-12 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-white-400"
        >
          <span class="sr-only">Is Group</span>
          <!-- On: "translate-x-5", Off: "translate-x-0" -->
          <span
            aria-hidden="true"
            [ngClass]="group?.value ? 'translate-x-6' : 'translate-x-0'"
            class="inline-block h-5 w-5 bg-white rounded-full shadow transform ring-0 transition ease-in-out duration-200"
          ></span>
        </button>
        <span class="ml-3" id="toggleLabel">
          <span class="font-mono text-xs uppercase text-black leading-none"
            >Es bewirbt sich eine Gruppe
          </span>
        </span>
      </div>
    </div>
    <div class="container--default-x py-8">
      <div class="lg:flex lg:space-x-16">
        <button
          class="whitespace-nowrap w-full sm:my-4 py-6 lg:py-12 px-12 mb-4 border border-transparent font-mono rounded-3xl text-white bg-black hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50"
        >
          PDF Portfolio hochladen +
        </button>
        <button
          class="whitespace-nowrap w-full sm:my-4 py-6 lg:py-12 px-12 mb-4 border border-transparent font-mono rounded-3xl text-white bg-black hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50"
        >
          Werke einzeln hochladen +
        </button>
      </div>
    </div>
    <div class="xl:container container--default mx-auto">
      <div
        class="flex-auto font-mono text-sm grid grid-cols-1 lg:grid-cols-application items-baseline gap-x-4 gap-y-3 sm:gap-y-5 lg:gap-y-7"
      >
        <label class="col-start-1" for="statement">Artist Statement</label>
        <div class="lg:col-span-2 flex items-baseline mb-3">
          <textarea
            id="statement"
            formControlName="statement"
            name="statement"
            rows="6"
            class="font-sans text-base rounded-none relative block w-full p-2 border-solid bg-gray-100 border-b border-t-0 border-r-0 border-l-0 border-transparent placeholder-gray-500 text-black focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10"
          ></textarea>
          <div
            class="whitespace-nowrap pl-3 text-xs text-gray-800 transition-colors"
            [ngClass]="
              statement?.value.length > statementMaxLength * 0.95
                ? statement?.value.length > statementMaxLength
                  ? 'text-red-600'
                  : 'text-yellow-600'
                : statement?.touched &&
                  statement?.value.length >= statementMinLenght
                ? 'text-green-500'
                : 'text-gray-800'
            "
          >
            {{ statement?.value.length }}/{{ statementMaxLength }} Zeichen
          </div>
        </div>
        <label class="col-start-1" for="residency">Residency</label>
        <div class="bg-gray-100 p-4 font-sans text-base mb-3">
          <div>
            Wenn ich den Berlin Art Prize gewinne, würde ich gerne an der
            Residency teilnehmen:
          </div>
          <div class="relative flex items-start mt-3 mb-4">
            <input
              id="residency"
              formControlName="residency"
              name="residency"
              type="checkbox"
              class="focus:ring-gray-500 h-5 w-5 text-green-500 border-black rounded-none"
            />
            <label for="residency" class="ml-3"
              >Ja
              <span class="text-gray-500">
                (hat keinen Einfluss auf die Entscheidung der Jury)
              </span>
            </label>
          </div>
        </div>

        <label class="col-start-1" for="database">Datenbank</label>
        <div class="bg-gray-100 p-4 font-sans text-base mb-3">
          <div>
            Mein Portfolio darf in das Archiv des Berlin Art Prize aufgenommen
            werden:
          </div>
          <div class="relative flex items-start mt-3 mb-4">
            <input
              id="database"
              formControlName="database"
              name="database"
              type="checkbox"
              class="focus:ring-gray-500 h-5 w-5 text-green-500 border-black rounded-none"
            />
            <label for="database" class="ml-3"
              >Ja
              <span class="text-gray-500">
                (hat keinen Einfluss auf die Entscheidung der Jury)
              </span>
            </label>
          </div>
        </div>
        <label class="col-start-1" for="disclaimer">Haftungsausschluss</label>
        <div class="bg-gray-100 p-4 font-sans text-base mb-3">
          <div>
            <p class="mb-5">
              Ich habe die Bewerbunsgrichtlinien des Berlin Art Prize gelesen
              und akzeptiere sie. Ich bestätige, dass ich seit mindestens sechs
              Monaten in Berlin arbeite und lebe. Ich versichere, dass alle
              Arbeiten, mit denen ich mich bewerbe, von mir stammen und sie
              zwischen dem 14.–23. Juni 2019 für einen Atelierbesuch der Jury
              verfügbar sind.
            </p>
            <p class="mb-5">
              Sollte ich für den Berlin Art Prize nominiert werden, werde ich
              meine für die Einzelausstellung ausgewählten Arbeiten zwischen dem
              23.–25. August 2019 anliefern und zwischen dem 29. September–1.
              Oktober wieder abholen.
            </p>
            <p class="mb-5">
              Ich bestätige auch, dass ich es im Falle einer Nominierung für den
              Berlin Art Prize 2019 der Jury und dem Organisationsteam des
              Berlin Art Prize e.V. überlasse, zu welchem der neun Projekträume
              ich für eine Einzelausstellung zugeordnet werde.
            </p>
          </div>
          <div class="relative flex items-start mt-3 mb-4">
            <input
              id="disclaimer"
              formControlName="disclaimer"
              name="disclaimer"
              type="checkbox"
              class="focus:ring-gray-500 h-5 w-5 text-green-500 border-black rounded-none"
            />
            <label for="disclaimer" class="ml-3"
              >Ich stimme den Bedingungen des Berlin Art Prize zu.
            </label>
          </div>
        </div>
        <label class="col-start-1" for="payment">Bezahlung</label>
        <div class="bg-gray-100 p-4 font-sans text-base">
          <p class="mb-5">
            Um die Einreichung abzuschließen benötigen wir einen Nachweis über
            die Bezahlung der Teilnahmegebühr. Bitte lade in dem Feld rechts ein
            Screenshot/PDF der bereits getätigten Überweisung hoch.
          </p>
          <p class="mb-5 pl-5">
            Betrag: 10,00 Euro<br />
            <br />
              PayPal: paypal@berlinartprize.com<br />
            Berlin Art Prize e.V.<br />
            Bank: EthikBank<br />
            BLZ: 83094495<br />
            Kontonummer: 3237516<br />
            BIC: GENO DE F1 ETK<br />
            IBAN: DE84830944950003237516<br />
            <br />
            Verwendungszweck:
            <span class="font-medium">Code 833de7 BAP 2021</span>
          </p>
        </div>
        <div
          [ngClass]="payment?.valid ? 'border-transparent' : 'border-red-600'"
          class="bg-gray-100 text-gray-800 p-4 self-stretch flex flex-col items-center justify-center border"
        >
          <svg
            class="-ml-4 mt-2 mb-5"
            width="68px"
            height="66px"
            viewBox="0 0 68 66"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
          >
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
              <g transform="translate(-1116.000000, -1866.000000)">
                <rect
                  stroke="currentColor"
                  fill="transparent"
                  transform="translate(1149.000000, 1899.000000) scale(-1, 1) translate(-1149.000000, -1899.000000) "
                  x="908.5"
                  y="1714.5"
                  width="481"
                  height="369"
                ></rect>
                <g transform="translate(1116.000000, 1866.000000)">
                  <g transform="translate(13.000000, 0.000000)">
                    <path
                      d="M52.6262,63.0519 L2.5852,63.0519 L2.5852,2.5859 L42.2012,2.5859 L42.2012,11.9689 C42.2012,12.5449 42.6672,13.0099 43.2432,13.0099 L52.6262,13.0099 L52.6262,63.0519 Z M44.2862,4.0599 L51.1512,10.9259 L44.2862,10.9259 L44.2862,4.0599 Z M54.4062,11.2309 L43.9802,0.8069 C43.7932,0.6179 43.5312,0.4999 43.2432,0.4999 L1.5422,0.4999 C0.9662,0.4999 0.5002,0.9669 0.5002,1.5429 L0.5002,64.0939 C0.5002,64.6709 0.9662,65.1369 1.5422,65.1369 L53.6692,65.1369 C54.2452,65.1369 54.7112,64.6709 54.7112,64.0939 L54.7112,11.9689 C54.7112,11.6799 54.5942,11.4179 54.4062,11.2309 L54.4062,11.2309 Z"
                      id="Fill-1"
                      fill="currentColor"
                    ></path>
                    <path
                      d="M52.6262,63.0519 L2.5852,63.0519 L2.5852,2.5859 L42.2012,2.5859 L42.2012,11.9689 C42.2012,12.5449 42.6672,13.0099 43.2432,13.0099 L52.6262,13.0099 L52.6262,63.0519 Z M44.2862,4.0599 L51.1512,10.9259 L44.2862,10.9259 L44.2862,4.0599 Z M54.4062,11.2309 L43.9802,0.8069 C43.7932,0.6179 43.5312,0.4999 43.2432,0.4999 L1.5422,0.4999 C0.9662,0.4999 0.5002,0.9669 0.5002,1.5429 L0.5002,64.0939 C0.5002,64.6709 0.9662,65.1369 1.5422,65.1369 L53.6692,65.1369 C54.2452,65.1369 54.7112,64.6709 54.7112,64.0939 L54.7112,11.9689 C54.7112,11.6799 54.5942,11.4179 54.4062,11.2309 Z"
                      id="Stroke-3"
                      fill="currentColor"
                    ></path>
                  </g>
                  <polygon
                    fill="currentColor"
                    points="26.4999766 22.273 24.0652265 24.708501 28.4275027 29.0720523 30.9636228 31.2028585 30.9129378 31.3549253 26.0432506 31.0509787 3.86340959e-12 31.0509787 3.86340959e-12 34.4950213 26.0432506 34.4950213 30.9129378 34.1910747 30.9636228 34.3429545 28.4275027 36.4737606 24.0652265 40.837499 26.4999766 43.273 37 32.7730935"
                  ></polygon>
                </g>
              </g>
            </g>
          </svg>
          <div>PDF/Screenshot hier ablegen</div>
        </div>
      </div>
    </div>
    <div class="my-8 p-4 text-center text-gray-400" *ngIf="updated_at?.value">
      Last updated {{ updated_at?.value | timePassed }} ago
    </div>
  </form>

  <!-- <pre>{{ form.value | json }}</pre>
  <pre>{{ form.valid | json }}</pre>
  <pre>{{ name?.errors | json }}</pre> -->

  <footer class="container--default flex items-baseline justify-between">
    <div class="text-headline">Berlin Art Prize</div>
    <div class="flex justify-end space-x-3 items-end">
      <div class="space-x-16 flex mr-16">
        <a class="font-mono hover:underline" href="">AGB</a>
        <a class="font-mono hover:underline" href="">Datenschutz</a>
      </div>
      <button
        (click)="saveAndClose()"
        class="bg-gray-300 text-black font-mono text-base leading-none py-3 px-6 rounded-xl"
      >
        Speichern und schließen
      </button>
      <button
        class="bg-gray-300 text-black font-mono text-base leading-none py-3 px-6 rounded-xl disabled:opacity-30 disabled:pointer-events-none"
        [disabled]="!form.valid"
      >
        Fertig! Absenden
      </button>
    </div>
  </footer>
</div>
