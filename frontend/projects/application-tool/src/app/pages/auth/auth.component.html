<header
  class="container--default fixed top-0 inset-x-0 flex items-center justify-between z-0"
>
  <div
    class="text-headline"
    [innerHtml]="'_configuration.title' | translate"
  ></div>
</header>
<main
  [ngSwitch]="mode"
  class="min-h-screen flex items-center justify-center pt-10 pb-16 container--default-x"
>
  <!-- REGISTER FORM -->
  <form
    id="register"
    *ngSwitchCase="'register'"
    class="w-full space-y-8 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-login items-center"
    [formGroup]="form"
    (ngSubmit)="register()"
  >
    <div>
      <h2
        class="mt-6 text-headline"
        [innerHtml]="'snippets.auth.register' | translate"
      ></h2>
      <div class="mt-3 font-mono text-sm text-gray-400">
        <p>
          {{ "snippets.auth.already-signed-up" | translate }}
          <a
            [routerLink]="[]"
            [queryParams]="{ type: 'login' }"
            class="underline text-gray-400 hover:text-gray-600"
            [innerHtml]="'snippets.auth.login-here' | translate"
          >
          </a>
        </p>
        <p>&nbsp;</p>
      </div>
    </div>
    <div class="mt-8 flex-auto pt-4 pb-10 relative">
      <input type="hidden" name="remember" value="true" />
      <div
        class="font-mono text-sm grid grid-cols-form items-center gap-x-4 gap-y-3"
      >
        <label
          for="displayName"
          class="text-right"
          [innerText]="('defaults.name-single' | translate | titlecase) + '*'"
        ></label>
        <input
          id="first-name"
          formControlName="displayName"
          name="displayName"
          type="text"
          autocomplete="name"
          class="col-span-2 appearance-none rounded-none relative block w-full p-2 border-solid bg-gray-100 border-b border-t-0 border-r-0 border-l-0 border-transparent font-mono placeholder-gray-500 text-black focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10 text-sm"
        />
        <label
          for="email-address"
          class="text-right"
          [innerText]="('defaults.email-single' | translate | titlecase) + '*'"
        ></label>
        <input
          id="email-address"
          formControlName="email"
          name="email"
          type="email"
          autocomplete="email"
          required
          class="col-span-2 appearance-none rounded-none relative block w-full p-2 border-solid bg-gray-100 border-b border-t-0 border-r-0 border-l-0 border-transparent font-mono placeholder-gray-500 text-black focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10 text-sm"
        />

        <label
          for="password"
          class="text-right"
          [innerHtml]="('snippets.auth.password' | translate) + '*'"
        ></label>
        <div class="col-span-2 relative">
          <input
            id="password"
            formControlName="password"
            name="password"
            type="password"
            autocomplete="new-password"
            required
            class="appearance-none rounded-none relative block w-full p-2 border-solid bg-gray-100 border-b border-t-0 border-r-0 border-l-0 border-transparent font-mono placeholder-gray-500 text-black focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10 text-sm"
          />
        </div>
        <label
          for="confirmPassword"
          class="text-right"
          [innerHtml]="('snippets.auth.repeat-password' | translate) + '*'"
        ></label>
        <div class="col-span-2 relative">
          <input
            id="confirmPassword"
            formControlName="confirmPassword"
            name="confirmPassword"
            type="password"
            autocomplete="new-password"
            class="appearance-none rounded-none relative block w-full p-2 border-solid bg-gray-100 border-b border-t-0 border-r-0 border-l-0 border-transparent font-mono placeholder-gray-500 text-black focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10 text-sm"
          />
          <p
            class="absolute top-100 mt-2 text-xs font-mono text-gray-500 leading-tight truncate"
            [innerHtml]="'snippets.auth.password-min-characters' | translate"
          ></p>
        </div>
        <div class="privacy col-start-2 col-span-2 mt-10 flex items-center">
          <!-- This example requires Tailwind CSS v2.0+ -->
          <!-- On: "bg-gray-600", Off: "bg-gray-200" -->
          <button
            (click)="togglePrivacyConfirmation()"
            type="button"
            aria-pressed="false"
            aria-labelledby="toggleLabel"
            [ngClass]="[
              confirmPrivacy.value ? 'bg-green-500' : 'bg-gray-300',
              confirmPrivacy.touched && confirmPrivacy.invalid
                ? ' outline-none ring-1 ring-offset-1 ring-red-500'
                : ''
            ]"
            class="relative inline-flex flex-shrink-0 h-6 w-12 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-white-400"
          >
            <span class="sr-only">Confirm Privacy</span>
            <!-- On: "translate-x-5", Off: "translate-x-0" -->
            <span
              aria-hidden="true"
              [ngClass]="
                confirmPrivacy.value ? 'translate-x-6' : 'translate-x-0'
              "
              class="inline-block h-5 w-5 bg-white rounded-full shadow transform ring-0 transition ease-in-out duration-200"
            ></span>
          </button>
          <span class="ml-3" id="toggleLabel">
            <span
              class="text-xs font-mono text-black leading-none"
              [ngClass]="
                confirmPrivacy.touched && confirmPrivacy.invalid
                  ? ' text-red-600'
                  : ' text-black'
              "
              [innerHtml]="'snippets.auth.confirm-privacy' | translate"
            >
            </span>
          </span>
        </div>
      </div>
      <div class="px-2 py-4 text-xs font-mono text-red-600 leading-tight">
        <p
          *ngIf="displayName.touched && displayName.invalid"
          class="mt-2 truncate"
          id="name-error"
          [innerHtml]="'snippets.auth.name-error' | translate"
        ></p>
        <p
          *ngIf="email.touched && email.invalid"
          class="mt-2 truncate"
          id="email-error"
          [innerHtml]="'snippets.auth.email-error' | translate"
        ></p>
        <p
          *ngIf="password.touched && password.invalid"
          class="mt-2 truncate"
          id="password-too-short"
          [innerHtml]="'snippets.auth.password-too-short' | translate"
        ></p>
        <p
          *ngIf="
            password.touched && confirmPassword.dirty && form.errors?.mustMatch
          "
          class="mt-2 truncate"
          id="password-not-matching"
          [innerHtml]="'snippets.auth.password-not-matching' | translate"
        ></p>
      </div>
    </div>

    <div class="flex md:justify-end sm:col-span-full lg:col-auto">
      <button
        type="submit"
        [disabled]="form.invalid"
        class="button--auth-submit"
      >
        Konto erstellen
      </button>
    </div>
  </form>
  <!-- FORGOT LOGIN FORM -->
  <form
    id="forgot"
    *ngSwitchCase="'forgot'"
    class="w-full space-y-8 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-login items-center"
    [formGroup]="form"
    (ngSubmit)="forgot()"
  >
    <div>
      <h2
        class="mt-6 text-headline"
        [innerHtml]="'snippets.auth.forgot-password' | translate"
      ></h2>
      <div class="mt-3 font-mono text-sm text-gray-400">
        <p>
          {{ "snippets.auth.not-signed-up" | translate }}
          <a
            [routerLink]="[]"
            [queryParams]="{ type: 'register' }"
            class="underline text-gray-400hover:text-gray-600"
          >
            {{ "snippets.auth.sign-up-here" | translate }}
          </a>
        </p>
        <p>
          {{ "snippets.auth.already-signed-up" | translate }}
          <a
            [routerLink]="[]"
            [queryParams]="{ type: 'login' }"
            class="underline text-gray-400 hover:text-gray-600"
            [innerHtml]="'snippets.auth.login-here' | translate"
          >
          </a>
        </p>
      </div>
    </div>
    <div class="mt-8 flex-auto bg-black text-white pt-4 pb-10">
      <input type="hidden" name="remember" value="true" />
      <div class="lg:flex lg:space-x-8 space-y-4 lg:space-y-0">
        <div class="flex-auto px-2 relative">
          <div>
            <label
              for="email-address"
              class="sr-only"
              [innerText]="'defaults.email-single' | translate"
            >
            </label>
            <input
              id="email-address"
              formControlName="email"
              name="email"
              type="email"
              autocomplete="email"
              class="appearance-none rounded-none relative block w-full px-0 py-2 border-solid bg-transparent border-b border-t-0 border-r-0 border-l-0 border-white font-mono placeholder-gray-300 text-white focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10 text-sm"
              [placeholder]="'defaults.email-single' | translate"
            />
          </div>
          <p
            *ngIf="email.touched && email.invalid"
            class="absolute top-full w-full mt-2 text-xs font-mono text-red-400 text-opacity-90 leading-tight truncate"
            id="email-error"
            [innerText]="'snippets.auth.email-error' | translate"
          ></p>
        </div>
      </div>
    </div>

    <div class="flex md:justify-end sm:col-span-full lg:col-auto">
      <button
        type="submit"
        [disabled]="form.invalid"
        class="button--auth-submit"
        [innerText]="'actions.reset' | translate"
      ></button>
    </div>
  </form>
  <!-- LOGIN FORM -->
  <form
    id="login"
    *ngSwitchDefault
    class="w-full space-y-8 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-login items-center"
    [formGroup]="form"
    (ngSubmit)="login()"
  >
    <div>
      <h2 class="mt-6 text-headline">Login</h2>
      <div class="mt-3 font-mono text-sm text-gray-400">
        <p>
          {{ "snippets.auth.not-signed-up" | translate }}
          <a
            [routerLink]="[]"
            [queryParams]="{ type: 'register' }"
            class="underline text-gray-400hover:text-gray-600"
          >
            {{ "snippets.auth.sign-up-here" | translate }}
          </a>
        </p>
        <p>
          <a
            [routerLink]="[]"
            [queryParams]="{ type: 'forgot' }"
            class="underline text-gray-400 hover:text-gray-600"
            [innerHtml]="'snippets.auth.forgot-password' | translate"
          >
          </a>
        </p>
      </div>
    </div>
    <div class="mt-8 flex-auto bg-black text-white pt-4 pb-10">
      <input type="hidden" name="remember" value="true" />
      <div class="lg:flex lg:space-x-8 space-y-4 lg:space-y-0">
        <div class="flex-auto px-2 relative">
          <div>
            <label for="email-address" class="sr-only">E-Mail</label>
            <input
              id="email-address"
              formControlName="email"
              name="email"
              type="email"
              autocomplete="email"
              required
              class="appearance-none rounded-none relative block w-full px-0 py-2 border-solid bg-transparent border-b border-t-0 border-r-0 border-l-0 border-white font-mono placeholder-gray-300 text-white focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10 text-sm"
              placeholder="E-Mail"
            />
          </div>
          <p
            *ngIf="email.touched && email.invalid"
            class="absolute top-full w-full mt-2 text-xs font-mono text-red-400 text-opacity-90 leading-tight truncate"
            id="email-error"
            [innerHtml]="'snippets.auth.email-error' | translate"
          ></p>
        </div>
        <div class="flex-auto px-2 relative">
          <div>
            <label
              for="password"
              class="sr-only"
              [innerHtml]="'snippets.auth.password' | translate"
            ></label>
            <input
              id="password"
              formControlName="password"
              name="password"
              type="password"
              autocomplete="current-password"
              required
              class="appearance-none rounded-none relative block w-full px-0 py-2 border-solid bg-transparent border-b border-t-0 border-r-0 border-l-0 border-white font-mono placeholder-gray-300 text-white focus:outline-none focus:ring-gray-500 focus:border-gray-500 focus:z-10 text-sm"
              [placeholder]="'snippets.auth.password' | translate"
            />
          </div>
          <p
            *ngIf="password.touched && password.invalid"
            class="absolute top-full w-full mt-2 text-xs font-mono text-red-400 text-opacity-90 leading-tight truncate"
            id="email-error"
            [innerHtml]="'snippets.auth.enter-password' | translate"
          ></p>
        </div>
      </div>
    </div>

    <div class="flex md:justify-end sm:col-span-full lg:col-auto">
      <button
        type="submit"
        [disabled]="form.invalid"
        class="button--auth-submit"
        [innerHtml]="'actions.login' | translate | titlecase"
      ></button>
    </div>
  </form>
</main>

<footer
  class="container--default lg:fixed bottom-0 inset-x-0 md:flex justify-end z-0"
>
  <div>
    <p [innerHtml]="'_configuration.full-name' | translate"></p>
    <p>
      <a
        href="mailto:{{ '_configuration.email' | translate }}"
        [innerHtml]="'_configuration.email' | translate"
      ></a>
    </p>
  </div>
</footer>
