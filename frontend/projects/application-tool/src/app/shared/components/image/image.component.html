<ng-container *ngIf="downloadURL | async; let url; else: loading">
  <img *ngIf="!video" class="h-full w-auto inline-block" [src]="url" />
  <video
    *ngIf="video"
    class="h-full w-auto inline-block"
    preload="metadata"
    [src]="url"
  ></video>
</ng-container>
<ng-template #loading>
  <div
    class="flex transition-colors items-center justify-center relative"
    [ngClass]="[
      error ? 'bg-red-200 text-red-600' : 'bg-gray-300 text-gray-800',
      video ? 'h-20 w-28' : 'h-20 w-16'
    ]"
  >
    <div
      class="spinner transition-opacity"
      [ngClass]="error ? 'opacity-0' : 'opacity-1'"
    ></div>
    <div
      class="absolute bottom-0 right-0 p-1 text-base font-mono transition-opacity"
      [ngClass]="error ? 'opacity-1' : 'opacity-0'"
    >
      404
    </div>
  </div>
</ng-template>
